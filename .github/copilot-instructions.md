<!--
⚙️  This file is generated and managed by the My Work Assistant MCP Server.
Do not edit directly.
To modify content, update:
  .my_work_assistant/my-work-assistant.config.json
-->
---
managed_by_mcp: true
---
# Copilot Instructions

<!-- BEGIN my_work_assistant -->
[system-managed section – do not edit manually]

## Priorities
- Prefer prompts in this order: review-code, document-api, onboarding-plan.
- For code changes, start with review-code; for api/docs, start with document-api; for onboarding, start with onboarding-plan.
- When unsure, ask to summarize the embedded references and propose a short plan.

## How to use
- Ask Copilot to follow the guidelines and prompts embedded below.
- Prefer referring to specific sections by name (e.g., “Use the review-code prompt”).
- When in doubt, ask Copilot to summarize the embedded references first.

## Quick links
- .my_work_assistant/docs/
- .github/instructions/
- .github/prompts/
- .github/chatmodes/

## Embedded references

> Note: Copilot Chat in VS Code typically reads this single file and does not follow links to other files. To ensure full context, the contents of key instruction, prompt, and chatmode files are embedded below.

### Instructions

<details>
<summary>default-guidelines.instructions.mwa.md</summary>

## Default Collaboration Guidelines

- Follow the docs generated by `python -m my_work_assistant init` in path `.my_work_assistant/docs`.

### Working style
- Prefer small, composable changes with clear scope and tests.
- Explain assumptions briefly and proceed; ask only when blocked.
- Keep responses skimmable with short sections and bullet points.

### Code quality
- Python 3.12, strict typing in library code; tests may be lighter.
- Docstrings are meaningful; docs are generated from them.
- Keep public APIs stable and documented; add minimal examples.

### Testing
- Add unit tests for happy path and 1–2 edge cases.
- Keep tests deterministic (monkeypatch filesystem/time as needed).
- Aim for ≥95% coverage; skip low-value branches when justified.

### Lint & type
- Respect existing lint config and import order.
- Fix type hints where feasible; defer only with clear comments.

### Security & reliability
- Avoid secrets in code or logs; prefer env vars.
- Handle I/O errors defensively with clear messages.

### Commits & PRs
- Conventional commits (feat/fix/chore/docs/test/refactor).
- PR description: summary, rationale, risks, and testing notes.

</details>


### Prompts

<details>
<summary>document-api.prompt.mwa.md</summary>

## When to use
Generate or improve API docs from code and docstrings.

## Goals
- Summarize modules, classes, and functions succinctly.
- Include signatures, parameter/return descriptions, and examples.

## Inputs
- Module path(s) or code snippet

## Outputs
- Markdown sections suitable for API reference

## Guardrails
- Avoid duplicating implementation details; focus on contracts

</details>

<details>
<summary>review-code.prompt.mwa.md</summary>

## When to use
Use this prompt for reviewing code diffs, refactors, and PRs.

## Goals
- Identify correctness issues, edge cases, and regressions.
- Improve readability, maintainability, and test coverage.
- Flag security, performance, and concurrency concerns.

## Inputs
- Code snippet or diff
- Context (file/module purpose)

## Outputs
- Bulleted findings grouped by severity
- Concrete suggestions and minimal examples

## Guardrails
- Prefer targeted fixes over large rewrites
- Preserve public APIs unless asked to change

</details>

<details>
<summary>onboarding-plan.prompt.mwa.md</summary>

## When to use
Create short onboarding plans or contributor guides.

## Goals
- Outline key systems, workflows, and first tasks.
- Link to docs and code entry points.

## Inputs
- Role, timebox (e.g., first week), and focus areas

## Outputs
- A concise, actionable checklist with links

## Guardrails
- Prefer incremental, verifiable steps with success criteria

</details>


### Documentation

<details>
<summary>api_cli.md</summary>

_Summary:_ API & CLI — - `init` — initialize workspace and render templates


# API & CLI

## CLI commands

- `init` — initialize workspace and render templates
- `validate` — validate all managed files
- `changelog` — summarize changes
- `manifest` — print discovered managed assets
- `self-test` — run unit tests
- `serve` — run the FastAPI app (Swagger UI at /docs)

```zsh
python -m my_work_assistant init
python -m my_work_assistant validate
python -m my_work_assistant manifest
python -m my_work_assistant serve --host 127.0.0.1 --port 8000 --reload
```

## API endpoints

- `POST /initialize` — run init and render templates
- `POST /validate` — validate managed files
- `GET /list_models` — list bundled models (people, roles, etc.)
- `GET /list_prompts` — list prompt files under configured root
- `GET /manifest` — transparent managed-asset manifest
- `GET /describe_bridge` — example relationships between models
- `POST /self_test` — run unit tests and return stdout

Interactive docs:

- Swagger UI: <http://127.0.0.1:8000/docs>
- ReDoc: <http://127.0.0.1:8000/redoc>



</details>

<details>
<summary>api_reference.md</summary>

_Summary:_ API Reference — my_work_assistant.core.cache


# API Reference



## my_work_assistant.core.cache

my_work_assistant.core.cache

Simple JSON cache helpers.


### Functions


- `is_cache_stale(name: 'str', refresh_minutes: 'int') -> 'bool'` — Determine whether a cache file is stale.

- `read_cache(name: 'str') -> 'CacheEntry'` — Read a cache file by name.

- `write_cache(name: 'str', data: 'dict[str, Any]') -> 'None'` — Persist data to a cache file.


### Classes


- `CacheEntry` — Dictionary wrapper for cache entries.


## my_work_assistant.core.config

my_work_assistant.core.config

Configuration loading and merging utilities for the MCP server.


### Functions


- `get_config_section(section: 'str') -> 'dict[str, Any]'` — Retrieve a configuration section.

- `load_config() -> 'dict[str, Any]'` — Load and merge configuration dictionaries.


## my_work_assistant.core.exceptions

my_work_assistant.core.exceptions

Custom exception hierarchy for the MCP server.



### Classes


- `APIError` — Raised when API endpoints encounter errors.

- `ConfigError` — Raised when configuration loading fails.

- `GitHubFileError` — Raised when GitHub managed files cannot be processed safely.

- `MCPError` — Base exception for the package.

- `SchemaError` — Raised when schema parsing or validation fails.

- `ValidationError` — Raised when validation checks fail.


## my_work_assistant.core.initialize

my_work_assistant.core.initialize.

Initialization routines that seed the workspace configuration and docs.

Design:
- Copy curated static docs from packaged defaults into ``.my_work_assistant/docs``.
- If repository-level docs exist under ``my_work_assistant/docs``, copy those too
    (e.g., CI-generated OpenAPI or reference files) so users see the latest.
- Generate a fresh API reference from docstrings into the user docs folder.
- Create a simple ``index.md`` that links all docs for easy navigation.


### Functions


- `copy_if_missing(source: 'Path', destination: 'Path') -> 'None'` — Copy a file if it does not already exist.

- `initialize_workspace() -> 'dict[str, Any]'` — Initialize the local workspace directory.


## my_work_assistant.core.logging

my_work_assistant.core.logging

Structured logging helpers writing to workspace files.


### Functions


- `log_event(filename: 'str', level: 'str', message: 'str', **fields: 'Any') -> 'None'` — Write a structured log entry.


## my_work_assistant.core.telemetry

my_work_assistant.core.telemetry

Telemetry utilities that record request lifecycle events.


### Functions


- `record_request(source: 'str', summary: 'str', **payload: 'Any') -> 'None'` — Record a request lifecycle entry.


## my_work_assistant.github_manager.builder

my_work_assistant.github_manager.builder.

Render managed GitHub files from bundled templates.

This module provides utilities to load Jinja2 templates, render them into the
configured GitHub root, and protect unmanaged files from accidental overwrite
by requiring a standard disclaimer banner. All public functions include
type-annotated docstrings.


### Functions


- `render_templates() -> 'list[Path]'` — Render configured templates into the repository.


## my_work_assistant.github_manager.changelog

my_work_assistant.github_manager.changelog

Write change logs for repository events.


### Functions


- `record_changes(paths: 'Iterable[Path]') -> 'None'` — Record changed file paths to the workspace logs.


## my_work_assistant.github_manager.constants

my_work_assistant.github_manager.constants.

Config- and content-driven discovery of managed GitHub file paths.

This module avoids hard-coded filenames by deriving:
- The GitHub root directory from configuration (github_manager.github_root)
- Instructions and chatmodes from available templates
- Prompt topics from the prompts JSON schema (enum)

This keeps the system flexible and driven by content and config.


### Functions


- `build_manifest() -> 'dict[str, List[dict[str, str | bool]]]'` — Produce a transparent manifest of managed assets.


## my_work_assistant.github_manager.synchronizer

my_work_assistant.github_manager.synchronizer.

Validate and synchronize managed GitHub assets.

This module orchestrates validation across all discovered, configuration-driven
managed files. It flattens the manifest categories into a single list of
paths, validates each file against JSON Schemas and additional strict checks,
and records telemetry for observability.

Public functions include precise docstrings to support IDE assistance and the
package's documentation generation.


### Functions


- `synchronize() -> 'List[Path]'` — Validate all managed files and return their paths.


## my_work_assistant.github_manager.validator

my_work_assistant.github_manager.validator.

Validation helpers for managed GitHub assets.


### Functions


- `parse_front_matter(content: 'str') -> 'dict[str, Any]'` — Extract simple YAML-like front matter from markdown content.

- `validate_file(path: 'Path') -> 'None'` — Validate a GitHub managed file with strict checks.


## my_work_assistant.github_manager.watcher

my_work_assistant.github_manager.watcher

Lightweight watcher stub that records manual refresh events.


### Functions


- `watch_paths(paths: 'Iterable[Path]') -> 'None'` — Record a watcher event for the provided paths.


## my_work_assistant.services.bridges

my_work_assistant.services.bridges

Utilities that build relationships between models.


### Functions


- `group_membership(groups: 'Iterable[Group]', people: 'Iterable[Person]') -> 'dict[str, list[str]]'` — Map group identifiers to member names.

- `platform_datasets(platforms: 'Iterable[Platform]', datasets: 'Iterable[DataSet]') -> 'dict[str, list[str]]'` — Map platforms to dataset names.


## my_work_assistant.services.summary

my_work_assistant.services.summary

Generate summary strings for changelog entries.


### Functions


- `summarize_changes(paths: 'Iterable[Path]') -> 'str'` — Return a human readable summary for change logging.


## my_work_assistant.services.updater

my_work_assistant.services.updater

Helpers to update JSON documents safely.


### Functions


- `apply_updates(path: 'Path', data: 'dict[str, Any]') -> 'None'` — Write JSON data to a file with indentation.


## my_work_assistant.services.validator

my_work_assistant.services.validator

Generic JSON validation helpers using bundled schemas.


### Functions


- `validate_json(data: 'Any', schema_name: 'str') -> 'None'` — Validate JSON data against a packaged schema.


</details>

<details>
<summary>architecture.md</summary>

_Summary:_ Architecture Overview — My Work Assistant is an MCP server that automates GitHub workspace assets with a


# Architecture Overview

My Work Assistant is an MCP server that automates GitHub workspace assets with a
content- and config-driven approach.

## Layers

- Core: configuration merge, initialization, logging, telemetry
- GitHub Manager: template rendering, validation, manifest discovery
- API: FastAPI app exposing init/validate/manifest and helper endpoints
- CLI: Typer commands mirroring API functionality for local workflows

## Data flow

1. `init` seeds `.my_work_assistant/` (config, docs, logs) and renders templates.
2. Managed files are written under `github_root` (default `.github`).
3. `validate` loads schemas and runs strict checks against managed files.
4. `manifest` shows a transparent view of expected targets and their origin.

## Extensibility

- Override `templates_root` / `schemas_root` in config to customize behavior.
- Add new templates following the naming scheme to participate automatically.
- Generated docs help keep module-level documentation discoverable.



</details>

<details>
<summary>configuration.md</summary>

_Summary:_ Configuration — Configuration is merged from packaged defaults and your user overrides in `.my_work_assistant/my-work-assistant.config.json`.


# Configuration

Configuration is merged from packaged defaults and your user overrides in `.my_work_assistant/my-work-assistant.config.json`.

## Keys

```jsonc
{
  "github_manager": {
    "github_root": ".github", // Target directory for managed files
    "templates_root": null, // Optional override for templates
    "schemas_root": null, // Optional override for JSON schemas
    "copilot_instructions_enabled": true,
    "instructions_enabled": true,
    "prompts_enabled": true,
    "chatmodes_enabled": true
  }
}
```

- `github_root`: Where rendered files are written (defaults to `.github`).
- `templates_root`: If set, Jinja2 templates are loaded from here instead of bundled defaults.
- `schemas_root`: If set, JSON Schemas are loaded from here instead of bundled defaults.
- Category flags: Toggle which categories are rendered and validated.

## How merging works

- Defaults are baked into the package under `bin/defaults/config/my-work-assistant.config.json`.
- The first `init` writes your `.my_work_assistant/my-work-assistant.config.json` if missing.
- The runtime always reads your override file; change values there and re-run commands.



</details>

<details>
<summary>developer_guide.md</summary>

_Summary:_ Developer Guide — Use the Typer CLI or FastAPI endpoints to manage workspace assets. Tests enforce


# Developer Guide

Use the Typer CLI or FastAPI endpoints to manage workspace assets. Tests enforce
strict typing, docstrings, and coverage.

This project favors strong typing, clear docstrings, and a content- and config-driven design.

## Environment

```zsh
python3 -m venv .venv
source .venv/bin/activate
python -m pip install --upgrade pip
pip install -e ".[dev]"
```

## Local workflow

- `python -m my_work_assistant init` — seed workspace and render templates
- `python -m my_work_assistant validate` — validate managed files
- `python -m my_work_assistant serve --reload` — run API with live reload

## Quality gates

- Ruff: `ruff check`
- Pytest: `pytest -q`
- Mypy: `mypy my_work_assistant/src/my_work_assistant`

## Conventions

- File naming: `*.instructions.mwa.md`, `*.prompt.mwa.md`, `*.chatmode.mwa.md`
- Module docstrings: Google-style docstrings enforced by Ruff
- Avoid hard-coded paths; prefer config (`github_root`, `templates_root`, `schemas_root`)

See also: Quickstart, Configuration, GitHub Manager, API & CLI, Docs System.



</details>

<details>
<summary>docs_system.md</summary>

_Summary:_ Documentation System — There are two documentation paths:


# Documentation System

There are two documentation paths:

1. Static docs bundled with the package (this folder) copied on `init`.
2. A generated `api_reference.md` created from module docstrings.

## Generated docs

- Generation runs automatically at the end of `init`.
- Source: module docstrings for packages: `core`, `github_manager`, `services`.
- Content: module summaries, public function signatures, and class summaries.
- Output: `.my_work_assistant/docs/api_reference.md`.

To regenerate manually:

```python
from my_work_assistant.docs import generate_docs
generate_docs()  # returns Path to the file
```

## Improve doc quality

- Add/expand module docstrings. The generator uses the first paragraph as a summary.
- Add function/class docstrings; summaries appear in the reference list.
- Ruff enforces pydocstyle (Google style) with helpful checks.



</details>

<details>
<summary>github_manager.md</summary>

_Summary:_ GitHub Manager — The GitHub manager renders, validates, and discovers managed files under your configured GitHub root.


# GitHub Manager

The GitHub manager renders, validates, and discovers managed files under your configured GitHub root.

## Naming scheme

- Copilot instructions: `copilot-instructions.md`
- Guidelines: `*.instructions.mwa.md`
- Prompts: `*.prompt.mwa.md`
- Chat modes: `*.chatmode.mwa.md`

The `.mwa` suffix (before the final extension) marks files as managed by this tool.

## What gets rendered

- Templates live under the packaged defaults: `bin/defaults/github/`.
- You can override templates by setting `github_manager.templates_root`.
- Rendering is guarded by a disclaimer banner to prevent overwriting unmanaged files.

## Validation

- JSON front matter is validated using JSON Schema.
- Additional strict checks enforce headings or allowed values.
- Schemas:
  - `copilot_instructions.schema.json`
  - `instructions.schema.json`
  - `prompts.schema.json` (topic enum)
  - `chatmodes.schema.json`

## Discovery & manifest

- Discovery is config- and content-driven; it scans templates/schemas to determine targets.
- View the transparent manifest:

```zsh
python -m my_work_assistant manifest
# or via API: GET /manifest
```

## Sync & validate

```zsh
python -m my_work_assistant validate
# Validates all managed files against schemas + strict checks
```



</details>

<details>
<summary>index.md</summary>

_Summary:_ Documentation Index — - [Api Reference](api_reference.md)


# Documentation Index

- [Api Reference](api_reference.md)
- [Api Cli](api_cli.md)
- [Architecture](architecture.md)
- [Configuration](configuration.md)
- [Developer Guide](developer_guide.md)
- [Docs System](docs_system.md)
- [Github Manager](github_manager.md)
- [Index](index.md)
- [Quickstart](quickstart.md)



</details>

<details>
<summary>quickstart.md</summary>

_Summary:_ Quickstart — Get up and running locally with a clean virtual environment and the CLI/API.


# Quickstart

Get up and running locally with a clean virtual environment and the CLI/API.

## Setup

```zsh
# macOS zsh
python3 -m venv .venv
source .venv/bin/activate
python -m pip install --upgrade pip
pip install -e ".[dev]"
```

Note for zsh: quotes around .[dev] are required: `pip install -e ".[dev]"`.

## Initialize workspace

```zsh
python -m my_work_assistant init
```

This creates `.my_work_assistant/` with:

- `my-work-assistant.config.json` (user override config)
- `docs/` (static docs + generated `api_reference.md`)
- `logs/` (changelog and summary files)

## Render & validate GitHub files

```zsh
# Render templates into .github/
python -m my_work_assistant init

# Validate the rendered files
python -m my_work_assistant validate
```

Managed files use the naming scheme:

- `copilot-instructions.md`
- `*.instructions.mwa.md`
- `*.prompt.mwa.md`
- `*.chatmode.mwa.md`

## Run the API server

```zsh
python -m my_work_assistant serve --host 127.0.0.1 --port 8000 --reload
```

Open:

- Swagger UI: <http://127.0.0.1:8000/docs>
- ReDoc: <http://127.0.0.1:8000/redoc>

## Useful CLI commands

```zsh
python -m my_work_assistant manifest   # Print discovered managed assets
python -m my_work_assistant validate   # Validate managed files
python -m my_work_assistant changelog  # Summarize recent changes
python -m my_work_assistant self-test  # Run unit tests
```



</details>


### Chatmodes

<details>
<summary>reviewer.chatmode.mwa.md</summary>

You are a pragmatic senior reviewer.

Priorities:
- Correctness and safety first, then clarity and maintainability.
- Minimal diffs that preserve public APIs.

Style:
- Be direct, constructive, and specific; prefer bullets and examples.

Checklist:
- Tests: happy path + edge cases? deterministic?
- Types: clear, helpful annotations in public code
- Docs: meaningful docstrings and module summaries

</details>

<details>
<summary>docwriter.chatmode.mwa.md</summary>

You are a clear, concise technical writer.

Priorities:
- Accuracy and completeness without verbosity.
- Link to source and examples.

Style:
- Use short sections with headings and bullets.
- Prefer active voice and concrete language.

Checklist:
- Summarize purpose and main flows
- List inputs/outputs and constraints
- Include one minimal example per major API

</details>


## Glossary

- People: contributors defined in the models, associated to roles and groups.
- Roles: responsibilities like maintainer, reviewer, or docwriter.
- Groups: logical teams or categories grouping people.
- Platforms: integration targets or ecosystems used in samples/tests.
- Datasets: example data assets referenced by platforms.

<!-- END my_work_assistant -->

These instructions are managed.